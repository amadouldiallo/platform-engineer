# =============================================================================
# ProviderConfig GCP
# =============================================================================
# Configuration pour authentifier Crossplane auprès de GCP
# Utilise Workload Identity (recommandé)
# 
# ⚠️ IMPORTANT: Le projectID doit être mis à jour après terraform apply
# Terraform crée le Service Account GCP et le Workload Identity binding
# =============================================================================

apiVersion: gcp.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
  namespace: crossplane-system
spec:
  # Project ID GCP (à mettre à jour après terraform apply)
  projectID: PROJECT_ID_PLACEHOLDER  # Ex: kkgcplabs01-032
  
  # Workload Identity (méthode recommandée)
  # Le Service Account Kubernetes "crossplane" dans "crossplane-system"
  # est automatiquement lié au Service Account GCP via Terraform
  credentials:
    source: InjectedIdentity

